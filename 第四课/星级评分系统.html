<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>星级评分系统</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        .outer{
            width: 550px;
            height: 25px;
            margin: 10px auto;
        }
        span{
            float: left;
            line-height: 25px;
            font-size: 12px;
            font-family: Arial, Helvetica, sans-serif;
            color: #878787;
            margin: 0 10px 0 5px;
        }
        ul{
            display: inline;
            overflow: hidden;
            padding: 0;
            margin: 0;
        }
        li{
            vertical-align: middle;
            line-height: 30px;
            list-style-type: none;
            padding: 0;
            margin: 0;
            float: left;
            border: 0;
            height: 25px;
            width: 25px;
            overflow: hidden;
            background-image: url(./star.png);
            background-repeat: no-repeat;
            background-position-y: 0;
            cursor: pointer;
        }
        .over{
            background-position-y: -28px;
        }
        img{
            width: 100%;
            background-position-y: -28px;
        }
        strong{
            color: #ff662f;
        }
        .no-display{
            display: none;
        }
        p{
            margin: 0;
            padding: 10px;
            clear: both;    /*清除前面元素的浮动带来的影响 */
            background-image: url(./icon.gif);
            background-repeat: no-repeat;
            background-size: 100% 100%;
            position: relative;
            top: 5px;
            height: 50px;
            width: 170px;
            color: #ff6607;
            font-size: 12px;
            font-family: Arial, Helvetica, sans-serif;
            line-height: 19px;
        }
        p span{
            padding: 0;
            margin: 0;
            line-height: 19px;
        }
        .p-desc{
            display: none;
        }
    </style>
    <script>
        window.onload=function(){
            var all_stars = document.querySelectorAll("li");
            var span_desc = document.querySelectorAll(".desc");
            var all_p = document.querySelectorAll("p");
            var current_star_index = -1;
            all_stars.forEach(function(star, index){
                star.onmouseover=function(){
                    overStar(index);
                }
                star.onmouseleave=function(){
                    leaveStar(index);
                }
                star.onclick=function(){
                    current_star_index = index;
                    leaveStar(index);
                    showResult(index);
                }
            });
            function overStar(index){
                for(var i = 0; i <= index; i++){
                    all_stars[i].classList.add("over");
                    all_p[i].classList.add("p-desc");
                }
                all_p[index].classList.remove("p-desc");
            }
            function leaveStar(index){
                for(var i = current_star_index + 1; i < 5; i++){
                    all_stars[i].classList.remove("over");
                }
                all_p[index].classList.add("p-desc");
            }
            function showResult(index){
                span_desc.forEach(function(desc, index){
                    desc.classList.add("no-display");
                });
                span_desc[index].classList.remove("no-display");
            }
        }
    </script>
</head>
<body>
    <div class="outer">
        <span>点击星星就能打分</span>
        <ul>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
        </ul>
        <span class="desc no-display"><strong>1 分 </strong>(差得太离谱，与卖家描述的严重不符，非常不满)</span>
        <span class="desc no-display"><strong>2 分 </strong>(部分有破损，与卖家描述的不符，不满意)</span>
        <span class="desc no-display"><strong>3 分 </strong>(质量一般，没有卖家描述的那么好)</span>
        <span class="desc no-display"><strong>4 分 </strong>(质量不错，与卖家描述的基本一致，还是挺满意的)</span>
        <span class="desc no-display"><strong>5 分 </strong>(质量非常好，与卖家描述的完全一致，非常满意)</span>
        <p class="p-desc" style="left: 20px;">1分 很不满意<span>差得太离谱，与卖家描述的严重不符，非常不满</span></p>
        <p class="p-desc" style="left: 45px;">2分 很不满意<span>部分有破损，与卖家描述的不符，不满意</span></p>
        <p class="p-desc" style="left: 70px;">3分 很不满意<span>质量一般，没有卖家描述的那么好</span></p>
        <p class="p-desc" style="left: 95px;">4分 很不满意<span>质量不错，与卖家描述的基本一致，还是挺满意的</span></p>
        <p class="p-desc" style="left: 120px;">5分 很不满意<span>质量非常好，与卖家描述的完全一致，非常满意</span></p>
    </div>
</body>
</html>